contract MapElevationStorage
{
	bool[33] elevationsInitialized;
	bool allElevationsInitialized;
	
    uint8[33][33] elevations;
    
    function getElevations() constant returns (uint8[33][33])
    {
    	return elevations;
    }
    
    function getElevation(uint8 col, uint8 row) constant returns (uint8)
    {
    	return elevations[col][row];
    }
    
    function initElevations(uint8 col, uint8[33] _elevations) public 
    {
    	if(allElevationsInitialized) // lockout
    		return;
    	elevations[col] = _elevations;
    	elevationsInitialized[col] = true;
    	for(uint8 b = 0; b < 33; b++)
    	{
    		if(elevationsInitialized[b] == false)
    			return;
    	}	
    	allElevationsInitialized = true;
    }
}

// address: 0xc35a4e966bf792734a25ea524448ea54de385e4e
// creation tx: 0x764882ec74abe37e76d6e4940047fad84d3576fdaa1ca7ede66c8cbe8b9444e0

// compiled and deployed with:

/*
 0.1.5-e11e10f8/.-Emscripten/clang/int linked to libethereum-

 bytecode:
 
 60606040526102fa806100126000396000f3606060405260e060020a6000350463049b785281146100315780634166c1fd146100f257806357f10d7114610139575b005b61017561888060405260606021815b610420604051908101604052806021905b600081526020019060019003908161005157505081526000199091019060200181610040575050604080516104208101909152600360216000835b828210156102f1576040805161042081019182905290600284028601908590826000855b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116100b057905050505050508152602001906001019061008c565b6101ba6004356024356000600383602181101561000257506002840201826021811015610002579090602091828204019190069054906101000a900460ff16905092915050565b61048060405261002f600480359061044460606024602182826104208082843750909550505050505060025460009060ff16156101d7576101d2565b6040516000826021835b818410156101aa576020840283015161042080838184600060046072f150905001926001019261017f565b9250505091505060405180910390f35b6060908152602090f35b6002805460ff191660011790555b505050565b8160038460218110156100025750600285029081019160059091019082610480855b8382111561025557835183826101000a81548160ff0219169083021790555092602001926001016020816000010492830192600103026101f9565b50506102829291505b808211156102e557805460ff1916815560010161023d565b80156102345782816101000a81549060ff0219169055600101602081600001049283019260010302610255565b50600190508184602181101561000257505050602080840480549185066101000a60ff81021990921690911790555b60218160ff1610156101c45760008160218110156100025760208082045491066101000a900460ff1614156102e9576101d2565b5090565b6001016102b1565b5050505090509056
 
 abi 
 
 [{"constant":true,"inputs":[],"name":"getElevations","outputs":[{"name":"","type":"uint8[33][33]"}],"type":"function"},{"constant":true,"inputs":[{"name":"col","type":"uint8"},{"name":"row","type":"uint8"}],"name":"getElevation","outputs":[{"name":"","type":"uint8"}],"type":"function"},{"constant":false,"inputs":[{"name":"col","type":"uint8"},{"name":"_elevations","type":"uint8[33]"}],"name":"initElevations","outputs":[],"type":"function"}]

web3 deploy 

var mapelevationstorageContract = web3.eth.contract([{"constant":true,"inputs":[],"name":"getElevations","outputs":[{"name":"","type":"uint8[33][33]"}],"type":"function"},{"constant":true,"inputs":[{"name":"col","type":"uint8"},{"name":"row","type":"uint8"}],"name":"getElevation","outputs":[{"name":"","type":"uint8"}],"type":"function"},{"constant":false,"inputs":[{"name":"col","type":"uint8"},{"name":"_elevations","type":"uint8[33]"}],"name":"initElevations","outputs":[],"type":"function"}]);
var mapelevationstorage = mapelevationstorageContract.new(
   {
     from: web3.eth.accounts[0], 
     data: '60606040526102fa806100126000396000f3606060405260e060020a6000350463049b785281146100315780634166c1fd146100f257806357f10d7114610139575b005b61017561888060405260606021815b610420604051908101604052806021905b600081526020019060019003908161005157505081526000199091019060200181610040575050604080516104208101909152600360216000835b828210156102f1576040805161042081019182905290600284028601908590826000855b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116100b057905050505050508152602001906001019061008c565b6101ba6004356024356000600383602181101561000257506002840201826021811015610002579090602091828204019190069054906101000a900460ff16905092915050565b61048060405261002f600480359061044460606024602182826104208082843750909550505050505060025460009060ff16156101d7576101d2565b6040516000826021835b818410156101aa576020840283015161042080838184600060046072f150905001926001019261017f565b9250505091505060405180910390f35b6060908152602090f35b6002805460ff191660011790555b505050565b8160038460218110156100025750600285029081019160059091019082610480855b8382111561025557835183826101000a81548160ff0219169083021790555092602001926001016020816000010492830192600103026101f9565b50506102829291505b808211156102e557805460ff1916815560010161023d565b80156102345782816101000a81549060ff0219169055600101602081600001049283019260010302610255565b50600190508184602181101561000257505050602080840480549185066101000a60ff81021990921690911790555b60218160ff1610156101c45760008160218110156100025760208082045491066101000a900460ff1614156102e9576101d2565b5090565b6001016102b1565b5050505090509056', 
     gas: 3000000
   }, function(e, contract){
    if (typeof contract.address != 'undefined') {
         console.log(e, contract);
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })
 
 uDApp
 
 [{"name":"MapElevationStorage","interface":"[{\"constant\":true,\"inputs\":[],\"name\":\"getElevations\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8[33][33]\"}],\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"col\",\"type\":\"uint8\"},{\"name\":\"row\",\"type\":\"uint8\"}],\"name\":\"getElevation\",\"outputs\":[{\"name\":\"\",\"type\":\"uint8\"}],\"type\":\"function\"},{\"constant\":false,\"inputs\":[{\"name\":\"col\",\"type\":\"uint8\"},{\"name\":\"_elevations\",\"type\":\"uint8[33]\"}],\"name\":\"initElevations\",\"outputs\":[],\"type\":\"function\"}]\n","bytecode":"60606040526102fa806100126000396000f3606060405260e060020a6000350463049b785281146100315780634166c1fd146100f257806357f10d7114610139575b005b61017561888060405260606021815b610420604051908101604052806021905b600081526020019060019003908161005157505081526000199091019060200181610040575050604080516104208101909152600360216000835b828210156102f1576040805161042081019182905290600284028601908590826000855b825461010083900a900460ff168152602060019283018181049485019490930390920291018084116100b057905050505050508152602001906001019061008c565b6101ba6004356024356000600383602181101561000257506002840201826021811015610002579090602091828204019190069054906101000a900460ff16905092915050565b61048060405261002f600480359061044460606024602182826104208082843750909550505050505060025460009060ff16156101d7576101d2565b6040516000826021835b818410156101aa576020840283015161042080838184600060046072f150905001926001019261017f565b9250505091505060405180910390f35b6060908152602090f35b6002805460ff191660011790555b505050565b8160038460218110156100025750600285029081019160059091019082610480855b8382111561025557835183826101000a81548160ff0219169083021790555092602001926001016020816000010492830192600103026101f9565b50506102829291505b808211156102e557805460ff1916815560010161023d565b80156102345782816101000a81549060ff0219169055600101602081600001049283019260010302610255565b50600190508184602181101561000257505050602080840480549185066101000a60ff81021990921690911790555b60218160ff1610156101c45760008160218110156100025760208082045491066101000a900460ff1614156102e9576101d2565b5090565b6001016102b1565b5050505090509056"}]
 
 
 
 */


